<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>My3d test page</title>
        <link rel="stylesheet" href="bootstrap.min.css" />
        <script src="fullscreen.js"></script>
        <style>
            .fullscreen {
                width: 100vw;
                height: var(--vh100, 100vh); /* from fullscreen.js */
            }

            the-app {
                position: relative;
                display: block;
                height: 100%;
            }

            my3d-babylon {
                background-color: var(--bs-gray-dark);
                height: 100%;
                min-height: 360px;
                max-height: 75vh;
                border-radius: var(--bs-border-radius-lg);
                overflow: hidden;
                padding: 0 !important;
            }

            our-status {
                position: absolute;
                bottom: 0;
                width: 100%;
                height: auto;
            }

            our-somestuff {
                display: blocks;
            }

            input[type="number"] {
                width: 5em;
            }
        </style>
    </head>

    <body class="container bg-light fullscreen">
        <the-app>
            <my3d-babylon id="main" worldSize="100" rightHanded>
                <my3d-camera-arc class="camera" id="cam1" selected autoZoom></my3d-camera-arc>
                <my3d-camera-basic class="camera" id="cam2"></my3d-camera-basic>

                <my3d-skyenv src="assets/studio.env" intensity="0.75">
                    <my3d-skybox intensity="0.25" blurring="0.75"></my3d-skybox>
                </my3d-skyenv>

                <my3d-ground-flat size="10" autoSize src="assets/ground.png"></my3d-ground-flat>
                <my3d-utility events>
                    <my3d-ground-grid size="10" autoSize src="assets/ground.png"></my3d-ground-grid>
                    <my3d-axes></my3d-axes>
                    <my3d-ghost disabled></my3d-ghost>
                    <my2g-gui foreground>
                        <my2g-something style="fill: #808080a0; stroke: #000000; stroke-width: 2px; border-radius: 6px; --valign: top; --halign: left; padding: 8px 16px;"></my2g-something>
                    </my2g-gui>
                </my3d-utility>
                <my3d-highlighter color="#F0F000"></my3d-highlighter>

                <my3d-stuff id="box" shape="cube" randomizePos="5"></my3d-stuff>
                <my3d-stuff id="ball" shape="sphere" randomizePos="5" class="foo"></my3d-stuff>
                <my3d-stuff id="cone" shape="cone" randomizePos="5" disabled class="foo bar"></my3d-stuff>
            </my3d-babylon>

            <div class="toolbar d-flex m-1 gap-1">
                <our-stuff-add class="d-flex gap-1">
                    <div class="input-group">
                        <select name="shape" class="form-select border-primary" disabled>
                            <option>cube</option>
                            <option>cone</option>
                            <option>sphere</option>
                            <option selected>icosphere</option>
                        </select>
                        <button type="button" class="btn btn-outline-primary" name="create" disabled>add</button>
                    </div>
                    <div class="input-group">
                        <label for="add-rnd" class="input-group-text">rnd</label>
                        <input id="add-rnd" type="number" name="dist" class="col form-control" value="5" disabled />
                    </div>
                </our-stuff-add>
                <hr />
                <our-stuff-tools class="d-flex gap-1 align-items-center">
                    <div class="input-group">
                        <select name="stuffid" class="form-select border-primary">
                            <!-- TODO: generate dynamically by some event -->
                            <option></option>
                            <option>box</option>
                            <option>ball</option>
                            <option>cone</option>
                        </select>
                        <button type="button" class="btn btn-outline-primary" name="delete" disabled>del</button>
                    </div>
                    <div class="form-check form-switch">
                        <input type="checkbox" name="enabled" class="form-check-input" id="stuff-enb" disabled />
                        <label for="stuff-enb" class="form-check-label">enabled</label>
                    </div>
                </our-stuff-tools>
                <our-camera-switch class="d-flex gap-1 align-items-center">
                    <label for="sel-cam">Camera:</label>
                    <select id="sel-cam" name="camera" class="form-select" disabled>
                        <option value="cam1">Cam1</option>
                        <option value="cam2">Cam2</option>
                    </select>
                </our-camera-switch>
            </div>
            <our-status></our-status>
        </the-app>

        <script>
            var app = document.querySelector("the-app");
            var my = {
                babylon: document.querySelector("my3d-babylon"),
                stuff: document.querySelectorAll("my3d-stuff"),
            };

            function switchCam(id) {
                document.querySelectorAll("my3d-camera-basic").forEach((cam) => {
                    cam.selected = cam.id == id;
                });
            }
        </script>
    </body>
</html>
